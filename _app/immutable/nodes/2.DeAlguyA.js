import{f as R,a as S,c as ca}from"../chunks/Cew64nlL.js";import"../chunks/C5SEx9ip.js";import{b as La,j as _,D as xa,c as Sa,p as Ma,ac as Ra,ap as la,$ as $a,P as _a,J as ra,aq as da,h as $,ar as ha,as as Oa,_ as Da,at as Ha,au as va,av as ua,aw as ja,a5 as Ba,a as wa,Q as qa,y as za,z as Ga,A as pa,B as fa,C as oa,d as F,X as Ya,V as Ua,T as Va,a1 as Fa,ax as Ia,R as Ka,ay as Pa,az as Xa,aA as Ja,aB as Qa,aC as Wa,a7 as Za,F as ae,n as ee,aD as re,aE as se,s as sa,v as b,t as K,q as te,w as A,g as x,ao as ma,o as ga,aF as Ea,K as ne,k as ya,aG as Aa}from"../chunks/COc0ozwQ.js";import{s as W,e as ie}from"../chunks/1-kU2YTO.js";import{s as le,a as fe,i as ka}from"../chunks/CYQQZ9Kc.js";import{i as oe}from"../chunks/3ot0CaDB.js";import{x as ve}from"../chunks/BOlNsIVV.js";import{b as z}from"../chunks/DTGSGz5l.js";function Z(r,a){return a}function ue(r,a,e,t){for(var i=[],n=a.length,u=0;u<n;u++)Oa(a[u].e,i,!0);var d=n>0&&i.length===0&&e!==null;if(d){var k=e.parentNode;Da(k),k.append(e),t.clear(),C(r,a[0].prev,a[n-1].next)}Ha(i,()=>{for(var E=0;E<n;E++){var h=a[E];d||(t.delete(h.k),C(r,h.prev,h.next)),Ba(h.e,!d)}})}function aa(r,a,e,t,i,n=null){var u=r,d={flags:a,items:new Map,first:null},k=(a&Ia)!==0;if(k){var E=r;u=$?fa(Va(E)):E.appendChild(Fa())}$&&wa();var h=null,w=!1,f=Ra(()=>{var v=e();return qa(v)?v:v==null?[]:$a(v)});La(()=>{var v=_(f),s=v.length;if(w&&s===0)return;w=s===0;let g=!1;if($){var o=za(u)===Ga;o!==(s===0)&&(u=pa(),fa(u),oa(!1),g=!0)}if($){for(var y=null,m,p=0;p<s;p++){if(F.nodeType===8&&F.data===Ya){u=F,g=!0,oa(!1);break}var l=v[p],c=t(l,p);m=Na(F,d,y,null,l,c,p,i,a,e),d.items.set(c,m),y=m}s>0&&fa(pa())}$||ce(v,d,u,i,a,t,e),n!==null&&(s===0?h?xa(h):h=Sa(()=>n(u)):h!==null&&Ma(h,()=>{h=null})),g&&oa(!0),_(f)}),$&&(u=F)}function ce(r,a,e,t,i,n,u){var Y,U,X,J;var d=(i&Pa)!==0,k=(i&(ua|va))!==0,E=r.length,h=a.items,w=a.first,f=w,v,s=null,g,o=[],y=[],m,p,l,c;if(d)for(c=0;c<E;c+=1)m=r[c],p=n(m,c),l=h.get(p),l!==void 0&&((Y=l.a)==null||Y.measure(),(g??(g=new Set)).add(l));for(c=0;c<E;c+=1){if(m=r[c],p=n(m,c),l=h.get(p),l===void 0){var ta=f?f.e.nodes_start:e;s=Na(ta,a,s,s===null?a.first:s.next,m,p,c,t,i,u),h.set(p,s),o=[],y=[],f=s.next;continue}if(k&&_e(l,m,c,i),(l.e.f&la)!==0&&(xa(l.e),d&&((U=l.a)==null||U.unfix(),(g??(g=new Set)).delete(l))),l!==f){if(v!==void 0&&v.has(l)){if(o.length<y.length){var I=y[0],T;s=I.prev;var P=o[0],G=o[o.length-1];for(T=0;T<o.length;T+=1)ba(o[T],I,e);for(T=0;T<y.length;T+=1)v.delete(y[T]);C(a,P.prev,G.next),C(a,s,P),C(a,G,I),f=I,s=G,c-=1,o=[],y=[]}else v.delete(l),ba(l,f,e),C(a,l.prev,l.next),C(a,l,s===null?a.first:s.next),C(a,s,l),s=l;continue}for(o=[],y=[];f!==null&&f.k!==p;)(f.e.f&la)===0&&(v??(v=new Set)).add(f),y.push(f),f=f.next;if(f===null)continue;l=f}o.push(l),s=l,f=l.next}if(f!==null||v!==void 0){for(var L=v===void 0?[]:$a(v);f!==null;)(f.e.f&la)===0&&L.push(f),f=f.next;var O=L.length;if(O>0){var D=(i&Ia)!==0&&E===0?e:null;if(d){for(c=0;c<O;c+=1)(X=L[c].a)==null||X.measure();for(c=0;c<O;c+=1)(J=L[c].a)==null||J.fix()}ue(a,L,D,h)}}d&&Ka(()=>{var Q;if(g!==void 0)for(l of g)(Q=l.a)==null||Q.apply()}),_a.first=a.first&&a.first.e,_a.last=s&&s.e}function _e(r,a,e,t){(t&ua)!==0&&ha(r.v,a),(t&va)!==0?ha(r.i,e):r.i=e}function Na(r,a,e,t,i,n,u,d,k,E){var h=(k&ua)!==0,w=(k&ja)===0,f=h?w?ra(i,!1,!1):da(i):i,v=(k&va)===0?u:da(u),s={i:v,v:f,k:n,a:null,e:null,prev:e,next:t};try{return s.e=Sa(()=>d(r,f,v,E),$),s.e.prev=e&&e.e,s.e.next=t&&t.e,e===null?a.first=s:(e.next=s,e.e.next=s.e),t!==null&&(t.prev=s,t.e.prev=s.e),s}finally{}}function ba(r,a,e){for(var t=r.next?r.next.e.nodes_start:e,i=a?a.e.nodes_start:e,n=r.e.nodes_start;n!==t;){var u=Ua(n);i.before(n),n=u}}function C(r,a,e){a===null?r.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function de(r,a,e,t,i){var d;$&&wa();var n=(d=a.$$slots)==null?void 0:d[e],u=!1;n===!0&&(n=a.children,u=!0),n===void 0||n(r,u?()=>t:t)}const he=Symbol("is custom element"),pe=Symbol("is html");function ea(r,a,e,t){var i=me(r);$&&(i[a]=r.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&r.nodeName==="LINK")||i[a]!==(i[a]=e)&&(a==="loading"&&(r[Xa]=e),e==null?r.removeAttribute(a):typeof e!="string"&&ge(r).includes(a)?r[a]=e:r.setAttribute(a,e))}function me(r){return r.__attributes??(r.__attributes={[he]:r.nodeName.includes("-"),[pe]:r.namespaceURI===Ja})}var Ta=new Map;function ge(r){var a=Ta.get(r.nodeName);if(a)return a;Ta.set(r.nodeName,a=[]);for(var e,t=r,i=Element.prototype;i!==t;){e=Wa(t);for(var n in e)e[n].set&&a.push(n);t=Qa(t)}return a}function Ee(r,a,e,t,i){var n=()=>{t(e[r])};e.addEventListener(a,n),i?Za(()=>{e[r]=i()}):n(),(e===document.body||e===window||e===document)&&ae(()=>{e.removeEventListener(a,n)})}var ye=R('<li class="svelte-h5mjvk"><a class="svelte-h5mjvk"> </a></li>'),Ae=R('<ul class="svelte-h5mjvk"></ul>'),ke=R('<li class="svelte-h5mjvk"><a class="svelte-h5mjvk"> </a></li>'),be=R('<details class="svelte-h5mjvk"><summary class="svelte-h5mjvk"> </summary> <ul class="svelte-h5mjvk"></ul></details>'),Te=R('<section><button class="category-toggle"> </button> <!></section>'),xe=R('<nav class="svelte-h5mjvk"><h2 class="svelte-h5mjvk"><a class="nav-heading-link">文章列表</a></h2> <!></nav>');function Se(r,a){ee(a,!1);const[e,t]=le(),i=()=>fe(ve,"$articles",e),n=ra();console.log(z);const u={software:"Software",music:"測試",read:"閱讀心得"};let d=ra({}),k=ra({});re(()=>i(),()=>{ne(n,(()=>{var s;const v={};if((s=i())!=null&&s.length)for(const g of i()){if(!(g!=null&&g.category))continue;const{category:o,subCategory:y}=g,m=y||"__uncategorized__";v[o]||(v[o]={}),v[o][m]||(v[o][m]=[]),v[o][m].push(g)}return v})())}),se(),oe();var E=xe(),h=b(E),w=b(h);A(h);var f=sa(h,2);aa(f,1,()=>(_(n),x(()=>Object.entries(_(n)))),Z,(v,s)=>{var g=ma(()=>Ea(_(s),2));let o=()=>_(g)[0],y=()=>_(g)[1];var m=Te(),p=b(m),l=b(p,!0);A(p);var c=sa(p,2);{var ta=I=>{var T=ca(),P=ga(T);aa(P,1,()=>(y(),x(()=>Object.entries(y()))),Z,(G,L)=>{var O=ma(()=>Ea(_(L),2));let D=()=>_(O)[0],Y=()=>_(O)[1];var U=ca(),X=ga(U);{var J=H=>{var N=Ae();aa(N,5,Y,Z,(V,j)=>{var B=ye(),M=b(B),q=b(M,!0);A(M),A(B),K(()=>{ea(M,"href",(ya(z),_(j),x(()=>`${z}/article/${_(j).slug}`))),W(q,(_(j),x(()=>_(j).title)))}),S(V,B)}),A(N),S(H,N)},Q=H=>{var N=be(),V=b(N),j=b(V,!0);A(V);var B=sa(V,2);aa(B,5,Y,Z,(M,q)=>{var na=ke(),ia=b(na),Ca=b(ia,!0);A(ia),A(na),K(()=>{ea(ia,"href",(ya(z),_(q),x(()=>`${z}/article/${_(q).slug}`))),W(Ca,(_(q),x(()=>_(q).title)))}),S(M,na)}),A(B),A(N),K(()=>W(j,D())),Ee("open","toggle",N,M=>Aa(k,_(k)[`${o()}_${D()}`]=M),()=>_(k)[`${o()}_${D()}`]),S(H,N)};ka(X,H=>{D()==="__uncategorized__"?H(J):H(Q,!1)})}S(G,U)}),S(I,T)};ka(c,I=>{_(d),o(),x(()=>_(d)[o()])&&I(ta)})}A(m),K(()=>{ea(p,"aria-expanded",(_(d),o(),x(()=>_(d)[o()]))),W(l,(o(),x(()=>u[o()]??o())))}),ie("click",p,()=>Aa(d,_(d)[o()]=!_(d)[o()])),S(v,m)}),A(E),K(()=>ea(w,"href",`${z}/article`)),S(r,E),te(),t()}var $e=R('<div class="article-layout svelte-10kcmdg"><aside class="svelte-10kcmdg"><!></aside> <main class="svelte-10kcmdg"><!></main></div>');function De(r,a){var e=$e(),t=b(e),i=b(t);Se(i,{}),A(t);var n=sa(t,2),u=b(n);de(u,a,"default",{}),A(n),A(e),S(r,e)}export{De as component};
