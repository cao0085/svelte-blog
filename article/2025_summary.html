<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../_app/immutable/assets/0.BduBPsYz.css" rel="stylesheet">
		<link href="../_app/immutable/assets/2.CzhWGdCx.css" rel="stylesheet">
		<link href="../_app/immutable/assets/4.DwwtVzUN.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.C90_pPfV.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DmKrRu43.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/COc0ozwQ.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CR_4RHM7.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CaC1Krpq.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BjM09ad5.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.Bg7HXQff.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/1-kU2YTO.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Cew64nlL.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CYQQZ9Kc.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/dbPvbsOE.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.DmQb1gwr.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C5SEx9ip.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BFQL34oP.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/2.CqSAoTFj.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/3ot0CaDB.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DPMIOPX_.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/4.CtBbnhLD.js">
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents"><!--[--><!--[--><!----><div class="app svelte-1t5f27d"><header class="svelte-1wpzjs"><div class="title svelte-1wpzjs">Blog</div></header><!----> <main class="svelte-1t5f27d"><!--[--><!----><div class="article-layout svelte-10kcmdg"><aside class="svelte-10kcmdg"><nav class="svelte-h5mjvk"><h2 class="svelte-h5mjvk"><a href="../article" class="nav-heading-link">文章列表</a></h2> <!--[--><section><button class="category-toggle">Software</button> <!--[!--><!--]--></section><!--]--></nav><!----></aside> <main class="svelte-10kcmdg"><!----><!----><!--[--><article class="prose mx-auto"><div class="article-header svelte-1l2p5et"><h1 class="svelte-1l2p5et">2025 軟體開發小結</h1> <p class="svelte-1l2p5et">2025-10-30</p></div> <section class="article-body svelte-1l2p5et"><!----><h6>小結一下今年所學</h6> <hr/> <h3>虛/實物件&amp;事件</h3> <p>這是在閱讀 Domain-Driven Design 後被啟發的，DDD 內強調真實事件、模型設計與邊界的重要性。</p> <p>拿發票當作範例，從財政部角度來看發票只有【未開立】【已開立】【已作廢】，這時資料紀錄很單純。</p> <p>接著延伸到【發票作廢】，在紙本發票時代，必需拿回該張 <strong>實體發票</strong> 並在時限內繳回才算作廢成功，流程會是【消費者繳回 - 申報表註記 - 財政部接收】同時也可以敘述成:</p> <ol><li>消費者繳回 = 雙方同意取消這筆交易</li> <li>申報表內作廢 = 公司內部皆同意此流程</li> <li>財政部接收 = 流程結束</li></ol> <p>若要數位化流程，就會有新問題需要解決：</p> <ul><li>雙方無法拿 <strong>實體發票</strong> 當做 <strong>同意作廢</strong> 的契約依據</li> <li>客服作業疏失，公司內部電子設備異常 (伺服器、網路…)</li> <li>財政部接收到資料，還需核可成功與否等等</li></ul> <br/> <p>為了讓我們知道處理進度，狀態設計變複雜了：</p> <ul><li><p>消費者層(產出作廢證明 → 消費者簽名同意)</p></li> <li><p>公司內部層(客服確認 → 會計人員確認 → 報表註記)</p></li> <li><p>政府層(上傳財政部平台 → 財政部檢查 → 核可作廢)</p></li></ul> <br/> <p>這時有些人會在同一張表單去紀錄狀態，但維持主表的原狀態（未開立/已開立/已作廢），再延伸一張 <strong>子表</strong> 用來記錄流程狀態也是一個方案，因為對財政部來說還是只有「未開立/發票已開立(可兌獎)/發票已作廢」(實)，其餘都是行政作業流程(虛)。</p> <p><code>例如:狀態編碼（State1~9），例如當 State = 9（財政部核可完成）時去同步更新主表狀態為「已作廢」。</code></p><!----></section></article><!--]--><!----><!----></main></div><!----><!--]--><!----></main></div><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_1ctgvvj = {
						base: new URL("..", location).pathname.slice(0, -1),
						assets: "/svelte-blog"
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.C90_pPfV.js"),
						import("../_app/immutable/entry/app.Bg7HXQff.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 4],
							data: [null,null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
